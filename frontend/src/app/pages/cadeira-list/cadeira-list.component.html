<div class="cadeira-list-page">
  <!-- Header Section -->
  <div class="hero-header">
    <div class="hero-background"></div>
    <div class="container position-relative">
      <div class="row align-items-center">
        <div class="col-lg-8">
          <div class="hero-content">
            <h1 class="hero-title">
              <i class="bi bi-mortarboard-fill me-3"></i>
              Disciplinas UniHub
            </h1>
            <p class="hero-subtitle">Descubra e explore todas as disciplinas disponíveis em nossa plataforma</p>
            <div class="hero-stats">
              <div class="stat-card">
                <div class="stat-number">{{ totalElements }}</div>
                <div class="stat-label">Disciplinas</div>
              </div>
              <div class="stat-card">
                <div class="stat-number">{{ getActiveCourses() }}</div>
                <div class="stat-label">Cursos</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4 d-none d-lg-block">
          <div class="hero-illustration">
            <i class="bi bi-book-half hero-icon"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Search and Filter Section -->
  <div class="search-section">
    <div class="container">
      <div class="search-card">
        <form [formGroup]="filterForm" class="search-form">
          <div class="row g-4 align-items-center">
            <div class="col-lg-6">
              <div class="search-input-group">
                <mat-form-field appearance="outline" class="w-100 search-field">
                  <mat-label>Buscar disciplina</mat-label>
                  <input matInput formControlName="searchTerm" 
                         placeholder="Digite o nome, código ou curso...">
                  <button mat-icon-button matSuffix type="button" 
                          *ngIf="filterForm.get('searchTerm')?.value"
                          (click)="clearSearch()" 
                          class="clear-btn"
                          aria-label="Limpar">
                    <mat-icon>close</mat-icon>
                  </button>
                  <mat-icon matSuffix *ngIf="!filterForm.get('searchTerm')?.value" class="search-icon">search</mat-icon>
                </mat-form-field>
              </div>
            </div>
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Filtrar por</mat-label>
                <mat-select formControlName="filter">
                  <mat-option *ngFor="let option of filterOptions" [value]="option.value">
                    {{ option.viewValue }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-lg-2">
              <div class="results-badge">
                <span class="badge-count">{{ totalElements }}</span>
                <span class="badge-label">resultados</span>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-section">
    <div class="container">
      <div class="text-center py-5">
        <mat-spinner diameter="50"></mat-spinner>
        <p class="mt-3 text-muted">Carregando cadeiras...</p>
      </div>
    </div>
  </div>

  <!-- Cadeiras Grid -->
  <div *ngIf="!isLoading" class="cadeiras-section">
    <div class="container">
      <div class="row g-4" *ngIf="dataSource.data.length > 0">
        <div class="col-12 col-md-6 col-xl-4" *ngFor="let cadeira of dataSource.data; trackBy: trackByCadeiraId">
          <div class="discipline-card" [class.featured]="cadeira.notaGeral && cadeira.notaGeral >= 4.5">
            <div class="card-ribbon" *ngIf="cadeira.notaGeral && cadeira.notaGeral >= 4.5">
              <i class="bi bi-star-fill"></i>
              TOP
            </div>
            
            <div class="card-header">
              <div class="discipline-avatar">
                <i class="bi bi-book-fill"></i>
              </div>
              <div class="card-badge">
                <span class="badge" [ngClass]="cadeira.isEletiva ? 'badge-elective' : 'badge-mandatory'">
                  {{ cadeira.isEletiva ? 'Eletiva' : 'Obrigatória' }}
                </span>
              </div>
            </div>
            
            <div class="card-body">
              <h5 class="discipline-title">{{ cadeira.nome }}</h5>
              <p class="discipline-code" *ngIf="cadeira.codigo">{{ cadeira.codigo }}</p>
              
              <div class="discipline-meta">
                <div class="meta-item">
                  <i class="bi bi-mortarboard-fill"></i>
                  <span>{{ cadeira.cursoNome }}</span>
                </div>
                <div class="meta-item">
                  <i class="bi bi-clock-fill"></i>
                  <span>{{ cadeira.cargaHoraria }}h</span>
                </div>
                <div class="meta-item" *ngIf="cadeira.professorCount">
                  <i class="bi bi-people-fill"></i>
                  <span>{{ cadeira.professorCount }} {{ cadeira.professorCount === 1 ? 'professor' : 'professores' }}</span>
                </div>
              </div>
              
              <p class="discipline-description" *ngIf="cadeira.descricao">
                {{ cadeira.descricao }}
              </p>
              
              <div class="discipline-rating" *ngIf="cadeira.notaGeral">
                <div class="rating-stars">
                  <i class="bi bi-star-fill" *ngFor="let star of getStarsArray(cadeira.notaGeral)"></i>
                  <i class="bi bi-star" *ngFor="let star of getEmptyStarsArray(cadeira.notaGeral)"></i>
                </div>
                <div class="rating-info">
                  <span class="rating-value">{{ cadeira.notaGeral | number:'1.1-1' }}</span>
                  <span class="rating-label">avaliação</span>
                </div>
              </div>
            </div>
            
            <div class="card-footer">
              <button class="btn btn-primary w-100" (click)="viewCadeira(cadeira)">
                <i class="bi bi-arrow-right me-2"></i>
                Ver Detalhes
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="dataSource.data.length === 0 && !isLoading" class="empty-state">
        <div class="empty-illustration">
          <i class="bi bi-search-heart"></i>
        </div>
        <h3 class="empty-title">Nenhuma disciplina encontrada</h3>
        <p class="empty-text">
          Não encontramos disciplinas que correspondam aos seus critérios de busca.<br>
          Tente ajustar os filtros ou explore todas as disciplinas disponíveis.
        </p>
        <button class="btn btn-outline-danger" (click)="clearSearch()">
          <i class="bi bi-arrow-clockwise me-2"></i>
          Limpar Filtros
        </button>
      </div>

      <!-- Pagination -->
      <div *ngIf="totalElements > pageSize" class="pagination-wrapper">
        <mat-paginator 
          class="modern-paginator"
          [length]="totalElements" 
          [pageSize]="pageSize" 
          [pageSizeOptions]="[6, 12, 24, 48]"
          (page)="onPageChange($event)"
          showFirstLastButtons>
        </mat-paginator>
      </div>
    </div>
  </div>
</div>
