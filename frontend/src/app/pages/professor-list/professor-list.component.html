<div class="professor-list-page">
  <!-- Hero Header -->
  <div class="hero-header">
    <div class="hero-background"></div>
    <div class="container position-relative">
      <div class="row align-items-center">
        <div class="col-lg-8">
          <div class="hero-content">
            <h1 class="hero-title">
              <i class="bi bi-people-fill me-3"></i>
              Professores UniHub
            </h1>
            <p class="hero-subtitle">Conheça nossos professores e descubra suas especialidades e avaliações</p>
            <div class="hero-stats">
              <div class="stat-card">
                <div class="stat-number">{{ totalElements }}</div>
                <div class="stat-label">Professores</div>
              </div>
              <div class="stat-card">
                <div class="stat-number">{{ getAverageRating() | number:'1.1-1' }}</div>
                <div class="stat-label">Nota Média</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4 d-none d-lg-block">
          <div class="hero-illustration">
            <i class="bi bi-person-workspace hero-icon"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Search and Filter Section -->
  <div class="search-section">
    <div class="container">
      <div class="search-card">
        <form [formGroup]="filterForm" class="search-form">
          <div class="row g-4 align-items-center">
            <div class="col-lg-5">
              <div class="search-input-group">
                <mat-form-field appearance="outline" class="w-100 search-field">
                  <mat-label>Buscar professor</mat-label>
                  <input matInput formControlName="searchTerm" 
                         placeholder="Digite o nome do professor...">
                  <button mat-icon-button matSuffix *ngIf="filterForm.get('searchTerm')?.value" 
                          (click)="clearSearch()" 
                          class="clear-btn"
                          aria-label="Limpar busca">
                    <mat-icon>close</mat-icon>
                  </button>
                  <mat-icon matSuffix *ngIf="!filterForm.get('searchTerm')?.value" class="search-icon">search</mat-icon>
                </mat-form-field>
              </div>
            </div>
            <div class="col-lg-3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Filtrar por</mat-label>
                <mat-select formControlName="filterType">
                  <mat-option *ngFor="let filter of filterOptions" [value]="filter.value">
                    {{filter.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-lg-2" *ngIf="isPeriodoFilterActive()">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Período</mat-label>
                <input matInput formControlName="academicPeriod" placeholder="ex.: 2023.1">
              </mat-form-field>
            </div>
            <div class="col-lg-2">
              <div class="results-badge">
                <span class="badge-count">{{ totalElements }}</span>
                <span class="badge-label">professores</span>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-section">
    <div class="container">
      <div class="text-center py-5">
        <mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
        <p class="mt-3 text-muted">Carregando professores...</p>
      </div>
    </div>
  </div>

  <!-- Professors Grid -->
  <div *ngIf="!isLoading" class="professors-section">
    <div class="container">
      <div class="row g-4" *ngIf="dataSource.data.length > 0">
        <div class="col-12 col-md-6 col-xl-4" *ngFor="let professor of dataSource.data">
          <div class="professor-card" [class.top-rated]="professor.notaGeral && professor.notaGeral >= 4.5">
            <div class="card-ribbon" *ngIf="professor.notaGeral && professor.notaGeral >= 4.5">
              <i class="bi bi-award-fill"></i>
              TOP
            </div>
            
            <div class="card-header">
              <div class="professor-avatar">
                <img [src]="professor.photoUrl || 'assets/images/default-avatar.png'" 
                     [alt]="professor.nomeCompleto" 
                     class="avatar-img">
              </div>
              <div class="professor-rating" *ngIf="professor.notaGeral">
                <div class="rating-badge">
                  <span class="rating-number">{{ professor.notaGeral | number:'1.1-1' }}</span>
                  <i class="bi bi-star-fill rating-icon"></i>
                </div>
              </div>
            </div>
            
            <div class="card-body">
              <h5 class="professor-name">{{ professor.nomeCompleto }}</h5>
              
              <div class="professor-stats" *ngIf="professor.notaGeral">
                <div class="stat-item">
                  <i class="bi bi-star-fill"></i>
                  <span>{{ professor.notaGeral | number:'1.1-1' }} / 5.0</span>
                </div>
              </div>
              
              <div class="no-rating" *ngIf="!professor.notaGeral">
                <i class="bi bi-star"></i>
                <span>Ainda não avaliado</span>
              </div>
            </div>
            
            <div class="card-footer">
              <button class="btn btn-primary w-100" (click)="viewProfessor(professor.id)">
                <i class="bi bi-arrow-right me-2"></i>
                Ver Perfil
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="dataSource.data.length === 0 && !isLoading" class="empty-state">
        <div class="empty-illustration">
          <i class="bi bi-person-x"></i>
        </div>
        <h3 class="empty-title">Nenhum professor encontrado</h3>
        <p class="empty-text">
          Não encontramos professores que correspondam aos seus critérios de busca.<br>
          Tente ajustar os filtros ou explore todos os professores disponíveis.
        </p>
        <button class="btn btn-outline-danger" (click)="clearSearch()">
          <i class="bi bi-arrow-clockwise me-2"></i>
          Limpar Filtros
        </button>
      </div>

      <!-- Pagination -->
      <div *ngIf="totalElements > pageSize" class="pagination-wrapper">
        <mat-paginator 
          class="modern-paginator"
          [length]="totalElements" 
          [pageSize]="pageSize" 
          [pageSizeOptions]="[6, 12, 24, 48]"
          showFirstLastButtons
          aria-label="Selecionar página de professores">
        </mat-paginator>
      </div>
    </div>
  </div>
</div>